<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechSaul | Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <link rel="stylesheet" href="styles.css">
</head>

<body class="text-slate-800">

    <div id="login-view" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-slate-200">
            <div class="text-center mb-8">
                <i class="ph-fill ph-gear text-4xl text-slate-900 mb-2"></i>
                <h1 class="text-2xl font-bold">Admin Panel</h1>
                <p class="text-slate-500 text-sm">TechSaul Management</p>
            </div>
            <form id="login-form" class="space-y-4">
                <input type="email" id="email" placeholder="Email Admin" class="w-full p-3 border rounded-lg" required>
                <input type="password" id="password" placeholder="Contraseña" class="w-full p-3 border rounded-lg" required>
                <button type="submit" class="w-full bg-slate-900 text-white font-bold py-3 rounded-lg hover:bg-slate-800 transition">Entrar</button>
            </form>
        </div>
    </div>

    <div id="dashboard-view" class="hidden min-h-screen flex flex-col">
        <header class="bg-slate-900 text-white px-6 py-4 flex flex-col md:flex-row justify-between items-center shadow-md sticky top-0 z-30 gap-4">
            <div class="flex items-center gap-3">
                <div class="bg-yellow-400 text-slate-900 p-1 rounded font-bold text-xs">ADMIN</div>
                <h1 class="font-bold text-xl hidden sm:block">TechSaul Panel</h1>
            </div>
            
            <div class="flex bg-slate-800 rounded-lg p-1 gap-1 overflow-x-auto w-full md:w-auto no-scrollbar">
                <button onclick="adminApp.switchTab('dashboard')" id="tab-dashboard" class="px-4 py-2 rounded-md text-sm font-bold bg-yellow-400 text-slate-900 transition flex items-center gap-2">
                    <i class="ph-bold ph-house"></i> Inicio
                </button>
                
                <button onclick="adminApp.switchTab('orders')" id="tab-orders" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2 relative">
                    <i class="ph-bold ph-receipt"></i> Pedidos
                    <span id="order-alert-badge" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 hidden">0</span>
                </button>

                <button onclick="adminApp.switchTab('products')" id="tab-products" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2">
                    <i class="ph-bold ph-package"></i> Productos
                </button>

                <button onclick="adminApp.switchTab('categories')" id="tab-categories" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2">
                    <i class="ph-bold ph-list-dashes"></i> Categorías
                </button>

                <button onclick="adminApp.switchTab('clients')" id="tab-clients" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2">
                    <i class="ph-bold ph-users"></i> Clientes
                </button>
                
                <button onclick="adminApp.switchTab('registers')" id="tab-registers" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2">
                    <i class="ph-bold ph-address-book"></i> Registros
                </button>

                <button onclick="adminApp.switchTab('reviews')" id="tab-reviews" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2">
                    <i class="ph-bold ph-chat"></i> Reseñas
                </button>

                <button onclick="adminApp.switchTab('banner')" id="tab-banner" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2">
                    <i class="ph-bold ph-images"></i> Portada
                </button>

                <button onclick="adminApp.switchTab('vacation')" id="tab-vacation" class="px-4 py-2 rounded-md text-sm font-bold text-slate-300 hover:text-white transition flex items-center gap-2">
                    <i class="ph-bold ph-airplane-tilt"></i> Vacaciones
                </button>
            </div>

            <button onclick="adminApp.logout()" class="text-slate-300 hover:text-white text-sm font-bold flex items-center gap-2">
                <i class="ph-bold ph-sign-out"></i> <span class="hidden sm:inline">Salir</span>
            </button>
        </header>

        <main class="flex-1 p-4 md:p-8 max-w-7xl mx-auto w-full">
            
            <div id="view-dashboard" class="block fade-in">
                <h2 class="text-2xl font-bold text-slate-900 mb-6">Resumen del Mes</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <div class="bg-slate-900 text-white p-6 rounded-2xl shadow-lg relative overflow-hidden">
                        <div class="relative z-10">
                            <div class="text-sm text-slate-400 font-bold uppercase tracking-wider mb-1" id="dash-month-label">Mes Actual</div>
                            <div class="text-4xl font-extrabold text-yellow-400" id="dash-earnings">S/ 0.00</div>
                            <div class="text-xs text-slate-400 mt-2">Ingresos por pedidos aprobados</div>
                        </div>
                        <i class="ph-fill ph-chart-line-up absolute -bottom-4 -right-4 text-slate-800 text-9xl"></i>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                    <h3 class="font-bold text-lg text-red-600 flex items-center gap-2 mb-4"><i class="ph-fill ph-warning-circle"></i> Alerta de Stock Bajo (Menos de 5)</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead class="text-xs uppercase bg-red-50 text-red-800 font-bold">
                                <tr>
                                    <th class="p-3 rounded-l-lg">Producto</th>
                                    <th class="p-3">Stock Actual</th>
                                    <th class="p-3 rounded-r-lg text-right">Acción</th>
                                </tr>
                            </thead>
                            <tbody id="dash-low-stock-body" class="text-sm"></tbody>
                        </table>
                    </div>
                    <div id="dash-no-low-stock" class="hidden text-center text-slate-400 py-4 text-sm">Todo en orden, inventario saludable.</div>
                </div>
            </div>

            <div id="view-products" class="hidden fade-in">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                    <h2 class="text-2xl font-bold text-slate-900">Productos</h2>
                    <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto">
                        <div class="relative">
                            <i class="ph ph-magnifying-glass absolute left-3 top-2.5 text-slate-400"></i>
                            <input type="text" id="product-search" placeholder="Buscar producto..." oninput="adminApp.handleProductSearch(this.value)" class="pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:border-slate-900 outline-none w-full sm:w-64 text-sm">
                        </div>
                        <button onclick="adminApp.openProductModal()" class="bg-slate-900 text-white px-4 py-2 rounded-lg font-bold text-sm shadow-lg flex items-center justify-center gap-2 hover:bg-slate-800">
                            <i class="ph-bold ph-plus"></i> Nuevo
                        </button>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-4">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead class="bg-slate-50 text-slate-500 text-xs uppercase font-bold">
                                <tr>
                                    <th class="p-4 border-b">Producto</th>
                                    <th class="p-4 border-b">Categoría</th>
                                    <th class="p-4 border-b">Stock</th>
                                    <th class="p-4 border-b">Precio</th>
                                    <th class="p-4 border-b text-right">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="products-table-body" class="text-sm"></tbody>
                        </table>
                    </div>
                    <div id="empty-products" class="hidden p-12 text-center text-slate-400"><i class="ph ph-cube text-4xl mb-2"></i><p>Sin productos o no hay coincidencias.</p></div>
                </div>
                <div id="pagination-controls" class="flex justify-center items-center gap-2 pb-8"></div>
            </div>

            <div id="view-categories" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-slate-900">Categorías</h2>
                    <button onclick="adminApp.openCategoryModal()" class="bg-slate-900 text-white px-4 py-2 rounded-lg font-bold text-sm shadow-lg flex items-center gap-2 hover:bg-slate-800">
                        <i class="ph-bold ph-plus"></i> Nueva Categoría
                    </button>
                </div>
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead class="bg-slate-50 text-slate-500 text-xs uppercase font-bold">
                                <tr><th class="p-4 border-b">Nombre</th><th class="p-4 border-b">Slug (URL)</th><th class="p-4 border-b text-right">Acciones</th></tr>
                            </thead>
                            <tbody id="categories-table-body" class="text-sm"></tbody>
                        </table>
                    </div>
                    <div id="empty-categories" class="hidden p-12 text-center text-slate-400"><i class="ph ph-list-dashes text-4xl mb-2"></i><p>Sin categorías.</p></div>
                </div>
            </div>

            <div id="view-banner" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-slate-900">Editar Portada</h2>
                    <button onclick="adminApp.saveBanners()" class="bg-green-500 text-white px-6 py-2 rounded-lg font-bold text-sm shadow-lg flex items-center gap-2 hover:bg-green-600">
                        <i class="ph-bold ph-floppy-disk"></i> Guardar Cambios
                    </button>
                </div>
                <div class="max-w-4xl mx-auto">
                    <form id="banner-form" onsubmit="event.preventDefault(); adminApp.saveBanners();">
                        <div id="banners-list-container" class="space-y-4 mb-6"></div>
                        <button type="button" onclick="addBannerCard()" class="w-full border-2 border-dashed border-slate-300 text-slate-500 font-bold py-4 rounded-xl hover:border-slate-900 hover:text-slate-900 transition flex items-center justify-center gap-2 bg-white">
                            <i class="ph-bold ph-plus-circle text-2xl"></i> Agregar Nuevo Slide
                        </button>
                    </form>
                </div>
            </div>

            <div id="view-reviews" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-slate-900">Gestión de Comentarios</h2>
                </div>
                <div id="reviews-list" class="space-y-4"></div>
                <div id="empty-reviews" class="hidden p-12 text-center text-slate-400">
                    <i class="ph ph-chat-teardrop-text text-4xl mb-2"></i>
                    <p>No hay comentarios registrados.</p>
                </div>
            </div>

            <div id="view-orders" class="hidden fade-in">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                    <h2 class="text-2xl font-bold text-slate-900">Gestión de Pedidos</h2>
                    <div class="relative w-full md:w-64">
                        <i class="ph ph-magnifying-glass absolute left-3 top-2.5 text-slate-400"></i>
                        <input type="text" id="order-search" placeholder="Buscar pedido, cliente o DNI..." oninput="adminApp.handleOrderSearch(this.value)" class="pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:border-slate-900 outline-none w-full text-sm">
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead class="bg-slate-50 text-slate-500 text-xs uppercase font-bold">
                                <tr>
                                    <th class="p-4 border-b">ID / Timer</th>
                                    <th class="p-4 border-b">Cliente / Contacto</th>
                                    <th class="p-4 border-b">Total / Pago</th>
                                    <th class="p-4 border-b">Estado</th>
                                    <th class="p-4 border-b text-right">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table-body" class="text-sm"></tbody>
                        </table>
                    </div>
                    <div id="empty-orders" class="hidden p-12 text-center text-slate-400"><i class="ph ph-receipt text-4xl mb-2"></i><p>No hay pedidos pendientes.</p></div>
                </div>
            </div>

            <div id="view-clients" class="hidden fade-in">
                <h2 class="text-2xl font-bold text-slate-900 mb-6">Cartera de Clientes</h2>
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead class="bg-slate-50 text-slate-500 text-xs uppercase font-bold">
                                <tr>
                                    <th class="p-4 border-b">Cliente</th>
                                    <th class="p-4 border-b">DNI / Teléfono</th>
                                    <th class="p-4 border-b">Total Comprado</th>
                                    <th class="p-4 border-b">Último Pedido</th>
                                    <th class="p-4 border-b text-right">Detalles</th>
                                </tr>
                            </thead>
                            <tbody id="clients-table-body" class="text-sm"></tbody>
                        </table>
                    </div>
                    <div id="empty-clients" class="hidden p-12 text-center text-slate-400"><i class="ph ph-users text-4xl mb-2"></i><p>Aún no hay clientes con pedidos.</p></div>
                </div>
            </div>

            <div id="view-vacation" class="hidden fade-in">
                <h2 class="text-2xl font-bold text-slate-900 mb-6">Configuración de Vacaciones</h2>

                <div class="bg-indigo-50 border border-indigo-200 rounded-xl p-6 mb-8 relative overflow-hidden">
                    <div class="relative z-10">
                        <h3 class="font-bold text-indigo-900 text-lg flex items-center gap-2">
                            <i class="ph-fill ph-calendar-x"></i> Cierre Temporal de Tienda
                        </h3>
                        <p class="text-indigo-700 text-sm mb-4">Programa fechas en las que no se podrán finalizar compras. Los clientes verán un aviso pero podrán ver productos.</p>
                        
                        <form onsubmit="event.preventDefault(); adminApp.saveVacationMode();" class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                            <div>
                                <label class="block text-xs font-bold text-indigo-800 mb-1">Fecha Inicio</label>
                                <input type="date" id="vacation-start" class="w-full p-2 rounded border border-indigo-200 text-sm">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-indigo-800 mb-1">Fecha Fin (Inclusive)</label>
                                <input type="date" id="vacation-end" class="w-full p-2 rounded border border-indigo-200 text-sm">
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-xs font-bold text-indigo-800 mb-1">Mensaje para el Cliente</label>
                                <div class="flex gap-2">
                                    <input type="text" id="vacation-msg" placeholder="Ej: Por fiestas navideñas no atenderemos..." class="w-full p-2 rounded border border-indigo-200 text-sm">
                                    <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded font-bold text-sm shadow-md whitespace-nowrap">
                                        Guardar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="md:col-span-4 flex items-center gap-2 mt-2">
                                <input type="checkbox" id="vacation-active" class="w-4 h-4 accent-indigo-600">
                                <label for="vacation-active" class="text-sm font-bold text-indigo-900 select-none">Activar Bloqueo de Compras</label>
                                <span class="text-xs text-indigo-500 ml-2">(Si desmarcas esto, la tienda funcionará normal)</span>
                            </div>
                        </form>
                    </div>
                    <i class="ph-fill ph-airplane-tilt absolute -right-6 -bottom-6 text-indigo-200 text-9xl opacity-50 transform -rotate-12"></i>
                </div>
            </div>

            <div id="view-registers" class="hidden fade-in">
                <h2 class="text-2xl font-bold text-slate-900 mb-6">Usuarios Registrados</h2>
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead class="bg-slate-50 text-slate-500 text-xs uppercase font-bold">
                                <tr>
                                    <th class="p-4 border-b">Usuario</th>
                                    <th class="p-4 border-b">Registro / IP</th>
                                    <th class="p-4 border-b">Carrito Actual</th>
                                    <th class="p-4 border-b">Favoritos</th>
                                    <th class="p-4 border-b text-right">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="registers-table-body" class="text-sm"></tbody>
                        </table>
                    </div>
                    <div id="empty-registers" class="hidden p-12 text-center text-slate-400">
                        <i class="ph ph-address-book text-4xl mb-2"></i>
                        <p>No hay usuarios registrados.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="product-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-slate-900/50 backdrop-blur-sm" onclick="adminApp.closeModal('product')"></div>
        <div class="absolute inset-y-0 right-0 w-full md:w-[500px] bg-white shadow-2xl p-6 overflow-y-auto transform transition-transform duration-300 translate-x-full" id="product-panel">
            <h2 class="text-xl font-bold mb-6" id="p-modal-title">Nuevo Producto</h2>
            <form id="product-form" class="space-y-4">
                <input type="hidden" id="p-id">
                <div><label class="block text-xs font-bold text-slate-500 mb-1">Nombre</label><input type="text" id="p-name" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900" required></div>
                
                <div class="grid grid-cols-3 gap-4">
                    <div><label class="block text-xs font-bold text-slate-500 mb-1">Precio (S/)</label><input type="number" step="0.01" id="p-price" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900" required></div>
                    <div><label class="block text-xs font-bold text-slate-500 mb-1">Puntos (Pts)</label><input type="number" id="p-points" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900" placeholder="0"></div>
                    <div><label class="block text-xs font-bold text-slate-500 mb-1">Categoría</label><select id="p-category" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900"><option value="">Cargando...</option></select></div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div><label class="block text-xs font-bold text-slate-500 mb-1">Stock (Unidades)</label><input type="number" id="p-stock" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900" placeholder="0" required></div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-1">¿Está en Oferta?</label>
                        <div class="flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-lg p-2">
                            <input type="checkbox" id="p-offer" class="w-5 h-5 accent-slate-900" onchange="document.getElementById('p-offer-price').disabled = !this.checked">
                            <input type="number" step="0.01" id="p-offer-price" class="w-full bg-transparent outline-none text-sm font-bold disabled:text-slate-400" placeholder="Precio Rebajado (S/)" disabled>
                        </div>
                    </div>
                </div>
                <div><label class="block text-xs font-bold text-slate-500 mb-1">Slug</label><input type="text" id="p-slug" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900"></div>
                
                <div class="bg-slate-50 p-4 rounded-xl border border-slate-200 space-y-4">
                    <h3 class="font-bold text-sm text-slate-700 flex items-center gap-2"><i class="ph-bold ph-images"></i> Gestión Multimedia</h3>
                    
                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-1">Imagen Principal</label>
                        <div class="flex gap-2">
                            <input type="text" id="p-image" class="flex-1 p-3 bg-white border border-slate-200 rounded-lg outline-none focus:border-slate-900 text-xs" placeholder="Pegar URL o subir..." oninput="previewImage(this.value, 'p-preview')">
                            <input type="file" id="upload-main" class="hidden" accept="image/*" onchange="handleUpload(this, 'p-image')">
                            <button type="button" onclick="document.getElementById('upload-main').click()" class="bg-slate-200 hover:bg-slate-300 text-slate-700 px-3 rounded-lg" title="Subir de PC"><i class="ph-bold ph-upload-simple"></i></button>
                        </div>
                        <img id="p-preview" src="" class="h-32 w-full object-contain mt-2 rounded border border-dashed border-slate-300 bg-white hidden">
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-2">Galería de Fotos</label>
                        <div id="gallery-container" class="space-y-2 mb-2"></div>
                        <button type="button" onclick="addGalleryItem()" class="text-xs font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1">
                            <i class="ph-bold ph-plus-circle"></i> Agregar otra imagen
                        </button>
                    </div>
                </div>
            
                <div class="bg-slate-50 p-4 rounded-xl border border-slate-200 mt-4 mb-4">
                    <h3 class="font-bold text-sm text-slate-700 mb-3 flex items-center gap-2"><i class="ph-bold ph-video"></i> Video Youtube</h3>
                    <div class="flex items-center gap-3 mb-3">
                        <input type="checkbox" id="p-has-video" class="w-5 h-5 accent-slate-900">
                        <label for="p-has-video" class="text-xs font-bold text-slate-600 select-none cursor-pointer">Activar Video en Tienda</label>
                    </div>
                    <input type="text" id="p-video-url" class="w-full p-3 bg-white border border-slate-200 rounded-lg outline-none focus:border-slate-900 text-xs" placeholder="Ej: https://www.youtube.com/watch?v=..." >
                </div>

                <div><label class="block text-xs font-bold text-slate-500 mb-1">Descripción</label><textarea id="p-desc" rows="4" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900" required></textarea></div>
                <div><label class="block text-xs font-bold text-slate-500 mb-1">Especificaciones (Una por línea)</label><textarea id="p-specs" rows="4" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900"></textarea></div>
                <button type="submit" class="w-full py-3 rounded-lg bg-slate-900 text-white font-bold hover:bg-slate-800 shadow-lg mt-4">Guardar Producto</button>
            </form>
        </div>
    </div>

    <div id="category-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-slate-900/50 backdrop-blur-sm" onclick="adminApp.closeModal('category')"></div>
        <div class="absolute inset-y-0 right-0 w-full md:w-[400px] bg-white shadow-2xl p-6 overflow-y-auto transform transition-transform duration-300 translate-x-full" id="category-panel">
            <h2 class="text-xl font-bold mb-6" id="c-modal-title">Nueva Categoría</h2>
            <form id="category-form" class="space-y-4">
                <input type="hidden" id="c-id">
                <div><label class="block text-xs font-bold text-slate-500 mb-1">Nombre Categoría</label><input type="text" id="c-name" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900" required></div>
                <div><label class="block text-xs font-bold text-slate-500 mb-1">Slug (URL)</label><input type="text" id="c-slug" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:border-slate-900" placeholder="auto-generado"></div>
                <button type="submit" class="w-full py-3 rounded-lg bg-slate-900 text-white font-bold hover:bg-slate-800 shadow-lg mt-4">Guardar Categoría</button>
            </form>
        </div>
    </div>

    <div id="client-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-slate-900/50 backdrop-blur-sm" onclick="adminApp.closeModal('client')"></div>
        <div class="absolute inset-y-0 right-0 w-full md:w-[600px] bg-white shadow-2xl p-6 overflow-y-auto transform transition-transform duration-300 translate-x-full flex flex-col" id="client-panel">
            <div class="flex justify-between items-center mb-6 border-b border-slate-100 pb-4">
                <h2 class="text-xl font-bold flex items-center gap-2"><i class="ph-bold ph-user-list"></i> Historial de Compras</h2>
                <button onclick="adminApp.closeModal('client')" class="p-2 hover:bg-slate-100 rounded-full"><i class="ph-bold ph-x"></i></button>
            </div>
            <div id="client-history-content" class="space-y-4 flex-1 overflow-y-auto"></div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>